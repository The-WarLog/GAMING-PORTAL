<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Space Shooter</title>
    <style>
        body { background: #0b1021; color: #e5e7eb; font-family: Arial, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        h1 { margin: 0 0 10px; }
        #info { margin-bottom: 10px; }
        canvas { background: #0f172a; border: 2px solid #a855f7; box-shadow: 0 0 20px rgba(168,85,247,0.3); }
        button { margin-top: 12px; padding: 8px 14px; border: none; background: #a855f7; color: #0b1021; font-weight: bold; cursor: pointer; border-radius: 6px; }
    </style>
</head>
<body>
    <h1>Space Shooter</h1>
    <div id="info">Move with arrows, shoot with space. Score: <span id="score">0</span></div>
    <canvas id="game" width="480" height="640"></canvas>
    <button onclick="restart()">Restart</button>

    <script>
        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');

        const ship = { x: canvas.width / 2 - 20, y: canvas.height - 70, w: 40, h: 50, speed: 6 };
        let bullets = [];
        let enemies = [];
        let score = 0;
        let gameOver = false;
        let spawnTimer = 0;

        function reset() {
            bullets = [];
            enemies = [];
            score = 0;
            scoreEl.textContent = score;
            ship.x = canvas.width / 2 - ship.w / 2;
            gameOver = false;
        }

        function spawnEnemy() {
            const w = 40, h = 30;
            const x = Math.random() * (canvas.width - w);
            enemies.push({ x, y: -h, w, h, speed: 2 + Math.random() * 2 });
        }

        function update() {
            if (gameOver) return;

            spawnTimer++;
            if (spawnTimer > 40) { spawnEnemy(); spawnTimer = 0; }

            bullets = bullets.filter(b => b.y > -10);
            bullets.forEach(b => b.y -= b.speed);

            enemies = enemies.filter(e => e.y < canvas.height + 50);
            enemies.forEach(e => e.y += e.speed);

            bullets.forEach((b, bi) => {
                enemies.forEach((e, ei) => {
                    if (collide(b, e)) {
                        enemies.splice(ei,1);
                        bullets.splice(bi,1);
                        score += 10;
                        scoreEl.textContent = score;
                    }
                });
            });

            enemies.forEach(e => {
                if (collide(e, ship)) {
                    gameOver = true;
                    alert('Game over! Score: ' + score);
                }
            });

            draw();
            requestAnimationFrame(update);
        }

        function draw() {
            ctx.fillStyle = '#0b1021';
            ctx.fillRect(0,0,canvas.width,canvas.height);

            ctx.fillStyle = '#38bdf8';
            ctx.fillRect(ship.x, ship.y, ship.w, ship.h);

            ctx.fillStyle = '#facc15';
            bullets.forEach(b => ctx.fillRect(b.x, b.y, b.w, b.h));

            ctx.fillStyle = '#ef4444';
            enemies.forEach(e => ctx.fillRect(e.x, e.y, e.w, e.h));
        }

        function collide(a, b) {
            return a.x < b.x + b.w && a.x + a.w > b.x && a.y < b.y + b.h && a.y + a.h > b.y;
        }

        window.addEventListener('keydown', e => {
            if (e.key === 'ArrowLeft') ship.x = Math.max(0, ship.x - ship.speed);
            if (e.key === 'ArrowRight') ship.x = Math.min(canvas.width - ship.w, ship.x + ship.speed);
            if (e.key === ' ') {
                bullets.push({ x: ship.x + ship.w / 2 - 4, y: ship.y, w: 8, h: 16, speed: 8 });
            }
        });

        function restart() {
            reset();
            draw();
            requestAnimationFrame(update);
        }

        reset();
        draw();
        requestAnimationFrame(update);
    </script>
</body>
</html>
